<!--API测试页面-->
<view class="container">
  <view class="header">
    <text class="title">API连通性测试</text>
    <text class="subtitle">验证后端接口是否正常工作</text>
  </view>

  <view class="button-group">
    <button 
      class="test-button primary" 
      bindtap="runAllTests" 
      loading="{{testing}}"
      disabled="{{testing}}"
    >
      {{testing ? '测试中...' : '开始全部测试'}}
    </button>
    
    <button 
      class="test-button" 
      bindtap="testProductList"
      disabled="{{testing}}"
    >
      测试商品列表
    </button>
    
    <button 
      class="test-button" 
      bindtap="testProductDetail"
      disabled="{{testing}}"
    >
      测试商品详情
    </button>
  </view>

  <view class="result-actions">
    <button 
      class="action-button" 
      bindtap="clearResults"
      disabled="{{testing}}"
    >
      清空结果
    </button>
    
    <button 
      class="action-button" 
      bindtap="copyResults"
      disabled="{{testResults.length === 0}}"
    >
      复制结果
    </button>
  </view>

  <view class="results-container">
    <view class="results-header">
      <text class="results-title">测试结果 ({{testResults.length}})</text>
    </view>
    
    <scroll-view class="results-scroll" scroll-y="true">
      <view class="result-item" wx:for="{{testResults}}" wx:key="index">
        <text class="result-text">{{item}}</text>
      </view>
      
      <view wx:if="{{testResults.length === 0}}" class="empty-results">
        <text class="empty-text">暂无测试结果</text>
        <text class="empty-hint">点击上方按钮开始测试</text>
      </view>
    </scroll-view>
  </view>

  <view class="tips">
    <text class="tip-title">使用说明:</text>
    <text class="tip-text">1. 点击"开始全部测试"运行所有API测试</text>
    <text class="tip-text">2. 可以单独测试某个API接口</text>
    <text class="tip-text">3. 测试结果会显示在下方区域</text>
    <text class="tip-text">4. 可以复制结果分享给后端开发人员</text>
  </view>
</view>
