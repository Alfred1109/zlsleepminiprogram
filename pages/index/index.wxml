<!-- pages/index/index.wxml -->
<view class="container">
  <!-- 顶部Logo区域 -->
  <view class="header-section">
    <view class="logo-container">
      <text class="logo-text">medsleep</text>
      <text class="logo-subtitle">AI疗愈脑波</text>
    </view>
  </view>


  <!-- 疗愈场景 -->
  <view class="section-header">
    <text class="section-title">疗愈场景</text>
    <view class="section-actions">
      <view class="section-more" bindtap="showAllScenes">查看全部</view>
    </view>
  </view>
  
  <!-- 疗愈场景布局 -->
  <view class="scene-categories">
    <view wx:for="{{categories}}" wx:key="id" 
          class="scene-category-item" 
          bindtap="onSceneTap" 
          data-id="{{item.id}}"
          data-name="{{item.name}}"
          data-scale-type="{{item.scaleType}}"
          data-scene-name="{{item.sceneName}}"
          data-index="{{index}}">
      <view class="scene-category-icon category-icon-{{item.id}}">
        <text class="category-emoji">{{item.icon || '🎯'}}</text>
      </view>
      <view class="scene-info">
        <text class="scene-name">{{item.name || '未知场景'}}</text>
        <text class="scene-desc">{{item.description || '疗愈场景'}}</text>
      </view>
      <view class="scene-arrow">
        <text class="arrow-icon">→</text>
      </view>
    </view>
  </view>



  <!-- 场景使用提示 -->
  <view class="usage-tip">
    <view class="tip-icon">🎯</view>
    <view class="tip-content">
      <text class="tip-title">开始您的疗愈之旅</text>
      <text class="tip-desc">点击场景卡片，查看评测记录并开始个性化疗愈</text>
    </view>
  </view>
</view>

<!-- 统一底部播放器 -->
<global-player 
  id="globalPlayer"
  visible="{{showGlobalPlayer}}"
  bind:playStateChange="onGlobalPlayerStateChange"
  bind:nextTrack="onNextTrack"
  bind:previousTrack="onPreviousTrack"
  bind:closePlayer="onCloseGlobalPlayer"
  bind:expandPlayer="onExpandGlobalPlayer"
/>
